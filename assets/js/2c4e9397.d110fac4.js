"use strict";(self.webpackChunkprojects_ieeebruins_com=self.webpackChunkprojects_ieeebruins_com||[]).push([[95],{4526:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var i=n(5893),a=n(1151);const o={},r="Module 4",s={id:"WRAP/module-4",title:"Module 4",description:"Designing the System!",source:"@site/docs/WRAP/module-4.md",sourceDirName:"WRAP",slug:"/WRAP/module-4",permalink:"/projects.ieeebruins.com/WRAP/module-4",draft:!1,unlisted:!1,editUrl:"https://github.com/UCLA-IEEE/projects.ieeebruins.com/tree/main/docs/WRAP/module-4.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Module 3",permalink:"/projects.ieeebruins.com/WRAP/module-3"}},h={},l=[{value:"Designing the System!",id:"designing-the-system",level:3},{value:"Part 1: T-Attenuator",id:"part-1-t-attenuator",level:2},{value:"Part 2: Impedance Matching with Lumped Elements (L - Networks)",id:"part-2-impedance-matching-with-lumped-elements-l---networks",level:2},{value:"Part 3: Common Emitter with LC Resonator",id:"part-3-common-emitter-with-lc-resonator",level:2},{value:"Part 4: Putting it all together",id:"part-4-putting-it-all-together",level:2}];function c(e){const t={a:"a",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"module-4",children:"Module 4"}),"\n",(0,i.jsx)(t.h3,{id:"designing-the-system",children:"Designing the System!"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:(0,i.jsx)("ins",{children:"Lecture Notes:"})})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.a,{href:"https://drive.google.com/file/d/1z5X1Weqe-dtoa9pqKqrgqOpMpCW0C3lA/view?usp=sharing",children:"Lecture 4 Notes"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:(0,i.jsx)("ins",{children:"Motivation:"})})}),"\n",(0,i.jsx)(t.p,{children:"We\u2019ve thus far covered ways of amplifying signals and generating frequencies - but is there a way to generate frequencies given other frequencies? From last time, we saw that using feedback, we can create systems whose output oscillates at a designed frequency. One common use of generating known, stable frequencies is in use of the Local Oscillator or LO of a mixer, whose operation is covered in the Lecture 3 notes."}),"\n",(0,i.jsx)(t.p,{children:"This is also why we wanted to ensure that our signal generated by our Colpitts Oscillator had a high enough power level - our LO needs to be large enough in power that it can sustain a voltage drop of 0.6 to 0.7 V - enough to maintain forward operation of the diodes in the diode ring mixer."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:(0,i.jsx)("ins",{children:"Prerequisites:"})})}),"\n",(0,i.jsx)(t.p,{children:"Lecture 1, 2 and 3. alongside assignment 1, 2 and 3."}),"\n",(0,i.jsx)(t.p,{children:"Signals and Systems"}),"\n",(0,i.jsx)(t.p,{children:"Impedance across Frequency"}),"\n",(0,i.jsx)(t.p,{children:"Power Transfer characteristics"}),"\n",(0,i.jsx)(t.p,{children:"Class A Amplifiers"}),"\n",(0,i.jsx)(t.p,{children:"Transmission Line Theory"}),"\n",(0,i.jsx)(t.p,{children:"LTspice"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:(0,i.jsx)("ins",{children:"Skills Learned:"})})}),"\n",(0,i.jsx)(t.p,{children:"System level RF design"}),"\n",(0,i.jsx)(t.p,{children:"Impedance Matching (T-Attenuator, LC matching network)"}),"\n",(0,i.jsx)(t.p,{children:"Smith Charts"}),"\n",(0,i.jsx)(t.p,{children:"LC tank Common Emitter Amplifier"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:(0,i.jsx)("ins",{children:"Parts List:"})})}),"\n",(0,i.jsx)(t.p,{children:"LTspice"}),"\n",(0,i.jsx)(t.p,{children:"Smith Chart"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:(0,i.jsx)("ins",{children:"Setup:"})})}),"\n",(0,i.jsx)(t.p,{children:"We have finally designed all necessary components. All you have to do is put it together! This assignment introduces you to some techniques which will help you a lot during your milestone design."}),"\n",(0,i.jsx)(t.h2,{id:"part-1-t-attenuator",children:"Part 1: T-Attenuator"}),"\n",(0,i.jsx)(t.p,{children:"To ensure maximum power transfer, your impedance between modules should be matched! Your filters have an input and output impedance of 50 and the antenna is also 50. All these modules need to be matched."}),"\n",(0,i.jsx)(t.p,{children:"It is best to design your modules such that they already match impedances, but oftentimes, that can be difficult such as in mixers. In this part, you will be matching your first mixer (1MHz to 5 MHZ) to the first stage buffer:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Using transient analysis, measure the input impedance of your mixer at its IF port. To do so, connect a voltage source (1MHz sine wave with 1V amplitude) to the port and measure the peak current. Dividing the peak voltage of 1V by the peak current will give you the real part of the impedance. The phase difference between the current and voltage gives the imaginary part of the impedance but we don\u2019t have to worry about that for now. Make sure your 4MHz oscillator is also connected to the LO port. You can model the filter at the RF port by either using the filter from assignment 3 terminated by 50 ohms (recommended) or simply connecting a 50 ohm resistor to the RF."}),"\n",(0,i.jsx)(t.li,{children:"Measure the output impedance of the first stage buffer using AC analysis as before."}),"\n",(0,i.jsxs)(t.li,{children:["Use ",(0,i.jsx)(t.a,{href:"https://chemandy.com/calculators/matching-t-attenuator-calculator.htm",children:"Matching T Attenuator Calculator (chemandy.com)"})," to match the buffer to the mixer. Once you have inserted the T attenuator between the buffer and the mixer, plot the FFT at the output of the buffer. Go back to the online tool and play around with the attenuation factor until you find the smallest value which gives at least -35dB difference between the 1MHz peak and the rest of the peaks on the FFT."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:(0,i.jsx)("ins",{children:"Checkpoint 1:"})})}),"\n",(0,i.jsx)(t.p,{children:"Show the voltage at the output of the buffer and its frequency spectrum."}),"\n",(0,i.jsx)(t.p,{children:"Show the voltage and FFT at the RF port of the mixer with the 50 ohm load connected."}),"\n",(0,i.jsx)(t.h2,{id:"part-2-impedance-matching-with-lumped-elements-l---networks",children:"Part 2: Impedance Matching with Lumped Elements (L - Networks)"}),"\n",(0,i.jsx)(t.p,{children:"At the final stage for the transmitter, we want to amplify the 27.185MHz signal and feed it into a 50 ohm antenna. The low impedance that the antenna presents significantly reduces the gain of your amplifier. Therefore, we have to add a network before the antenna so that looking into it, we see a higher impedance that is equal to the output impedance of the amplifier. We won\u2019t ask you to use the smith chart (even though you should know how to use it as an RF engineer). For this part of the assignment you are not allowed to use a buffer."}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Create a sinusoidal voltage source with 1mV amplitude and 27.185MHz frequency."}),"\n",(0,i.jsx)(t.li,{children:"Design an amplifier stage with a gain of 500 so that the output with no loads connected is 500mV amplitude. This is not a trivial stage. You will probably have to cascade two common emitter amplifiers to achieve this gain."}),"\n",(0,i.jsx)(t.li,{children:"Measure the output impedance of this stage using AC analysis technique."}),"\n",(0,i.jsx)(t.li,{children:"Now connect your amplifier to a 50 ohm resistor (antenna) and measure the peak to peak voltage. Don\u2019t forget the decoupling capacitor (100nF is a good choice for this stage)."}),"\n",(0,i.jsxs)(t.li,{children:["Next, go to ",(0,i.jsx)(t.a,{href:"https://www.analog.com/en/design-center/interactive-design-tools/rf-impedance-matching-calculator.html",children:"RF Impedance Matching Calculator"})," to create an impedance transformer. For the characteristic impedance box, enter the output impedance of your amplifier stage. The website generates two networks for you. Choose the one with reasonable values and add it in between your amplifier and antenna. Run the simulation again and measure the peak to peak voltage. You should notice an improvement in your output level."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:(0,i.jsx)("ins",{children:"Checkpoint 2:"})})}),"\n",(0,i.jsx)(t.p,{children:"Show the output voltage plots at the antenna with and without the impedance matching network."}),"\n",(0,i.jsx)(t.h2,{id:"part-3-common-emitter-with-lc-resonator",children:"Part 3: Common Emitter with LC Resonator"}),"\n",(0,i.jsx)(t.p,{children:"We will finish this assignment with the last trick of the trade we learned in fall."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"alt_text",src:n(3191).Z+"",title:"image_tooltip",width:"850",height:"740"})}),"\n",(0,i.jsx)(t.p,{children:"Choose a capacitor value which gives you a Qs of at least 3 at 27Mhz (remember Rs is the antenna impedance which is 50). This capacitor should be in the order of pF. Next, calculate an inductor value which has the same reactance as the capacitor at 27Mhz."}),"\n",(0,i.jsx)(t.p,{children:"Replace the collector resistor of your amplifier with the inductor and place the capacitor between the output and the antenna (see the picture below). This capacitor acts as a decoupling capacitor as well."}),"\n",(0,i.jsx)(t.p,{children:"Run the transient simulation and measure the output voltage at the antenna."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:(0,i.jsx)("ins",{children:"Checkpoint 3: "})})}),"\n",(0,i.jsx)(t.p,{children:"Show the output voltage plot at the antenna along with its FFT."}),"\n",(0,i.jsx)(t.h2,{id:"part-4-putting-it-all-together",children:"Part 4: Putting it all together"}),"\n",(0,i.jsx)(t.p,{children:"You are now familiar with the fundamental hardware blocks of an RF communication system i.e.:"}),"\n",(0,i.jsx)(t.p,{children:"Amplifier, buffer, oscillator, mixer, filter, attenuator, LC-network"}),"\n",(0,i.jsx)(t.p,{children:"As our fall quarter milestone, you will design a transmitter and a receiver in LTspice. Feel free to use the architecture discussed in the lecture. However, as designers, you have complete control over how you design your hardware as long as you meet the specifications. For example, you can try another oscillator design, but you have to prove it works both theoretically and in simulation."}),"\n",(0,i.jsx)(t.p,{children:"Summary of Specifications:"}),"\n",(0,i.jsx)(t.p,{children:"Distance to transmit: 100m"}),"\n",(0,i.jsx)(t.p,{children:"Received Power: 1uW"}),"\n",(0,i.jsx)(t.p,{children:"Target Frequency: 27.185 MHz"}),"\n",(0,i.jsx)(t.p,{children:"Frequencies must be within 27.01-27.36 MHz (Pass band)"}),"\n",(0,i.jsx)(t.p,{children:"Transmitted Power: 5mW"}),"\n",(0,i.jsx)(t.p,{children:"First, let\u2019s derive our specifications. The first two are given specifications. Don\u2019t worry, you don\u2019t have to calculate anything for this part, but we do encourage you to go through this to understand the justification behind our specs."}),"\n",(0,i.jsx)(t.p,{children:"Target Frequency:"}),"\n",(0,i.jsx)(t.p,{children:"The FCC allocates certain frequencies for different purposes/groups. As civilians in a hobby project, our device must reside within the 26.96-27.41 MHz frequency band. Staying within your allocated frequency is very important! Hence, we will aim to transmit a signal in the middle of the band. Target Frequency: 27.185 MHz. Furthermore, a margin is often set so you don\u2019t accidentally project outside this band. We will set our bandwidth as 350 kHz (\xb1175 kHz from target)."}),"\n",(0,i.jsx)(t.p,{children:"Transmitted Power:"}),"\n",(0,i.jsx)(t.p,{children:"A received power of about 1uW is acceptable. With this, we can calculate the needed power for transmission over 100m using the Friis Transmission Equation."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"alt_text",src:n(586).Z+"",title:"image_tooltip",width:"298",height:"29"})}),"\n",(0,i.jsx)(t.p,{children:"Pr = Power Received in dBm = 10log(1uW) = -60dB"}),"\n",(0,i.jsx)(t.p,{children:"Pt = Power Transmitted in dBm"}),"\n",(0,i.jsx)(t.p,{children:"Gr = Gain of Transmitted Antenna in dBi = 2.15 dBi"}),"\n",(0,i.jsx)(t.p,{children:"Gt = Gain of Received Antenna in dBi = 2.15 dBi"}),"\n",(0,i.jsx)(t.p,{children:"= Wavelength = 11.11 m @27MHz"}),"\n",(0,i.jsx)(t.p,{children:"d = distance = 100m"}),"\n",(0,i.jsx)(t.p,{children:"Solving the Friis Equation with the given quantities, the transmitted power is -22.8dB or ~5mW."}),"\n",(0,i.jsx)(t.p,{children:"Transmitter:"}),"\n",(0,i.jsx)(t.p,{children:"Input: the input to the transmitter comes from STM32 microcontroller. Model the input signal as a 1MHz sinusoid with 1.65V amplitude and a DC offset of 1.65V (this should create a sine wave that oscillates between 0 and 3.3V which is the operating range of the microcontroller output). You can assume the output impedance of the microcontroller to be 15Kohm."}),"\n",(0,i.jsx)(t.p,{children:"Output: Transmitted power = 5mW which corresponds to a peak to peak voltage of 1V on a 50 ohm antenna. Your signal should be a sine wave at 27.185MHz."}),"\n",(0,i.jsx)(t.p,{children:"Receiver:"}),"\n",(0,i.jsx)(t.p,{children:"Input: the received power is 1uW which corresponds to a peak to peak voltage of 20mV on a 50 ohm antenna. For simplicity, assume the input is at 27.185Mhz."}),"\n",(0,i.jsx)(t.p,{children:"Output: The final signal will be fed into another STM32. This signal should be a 1MHz sinusoid centered at 1.65V and an amplitude as close to 1.65V as possible (3.3V peak to peak). The input impedance of the microcontroller is 1Kohm."})]})}function d(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},586:(e,t,n)=>{n.d(t,{Z:()=>i});const i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASoAAAAdCAYAAAAdMiGOAAAABHNCSVQICAgIfAhkiAAACUFJREFUeJztnX2QVlUdxz/PLssy0QYbK0uQy+4m4tLiIuIrmm0CUbyY2WYZ45Q6WVlaNPY2ZkOFNjBpTk6O+VLKFJYTWVjCqIWaYfZGBI6JNfQiJpUWKYKNbH98z5l77t29D/c+e+/ztucz88xyz73nPuf33HN/5/d2L+DxeDwej8fj8Xg8Hk9R7gUGgXmR9tNN+6vM9hqzPQhsAU4wfQbNOaqJOJkuBdY727UkEySXa7c5bp9pn+LsWwN0Esjt7qs0n0JjuijSPtG0n2q2BwjGvwNY4Rw7ACwCbjX7F+Y4Xk8ZuT2mvQB80dk+Dfgg0ADMB1YnOEeliBtPG/BhZ7uWZILkcn0EOAUYg+Q7O6bf56g+RdURs28lMMH8ewKwDs3RdrTIDMcSvKLKmluBJ4CetB0bMh7IAPAr4DLgaae9HXgUaAaOAX6T8ffmRRNwBZLpfcA2Z1+tygTF5ZoCbEfW8OuAx0z7asKLT7UzF7gHuB4YD/zHtE9GyqkRybfVtL8N/R6Fso5ydHEBWgDekrZjloqqD3grsAD4L5rslrloEuwHxgIbMvzePDkPeAG5st3ATmdfrcoE8XIV0CR6Hi00G4A/mH13Ar8u7zBLpgW4GrgE+AaBkgLoBW4G/gecD3zetP8Y2IxcPk9+7CKwbhOTpaJaAFwH/ButWjtMewGtXA0oXrAA3di1wFnA14CDwIvAc6a9lmWCeLmmI+XUABwLvNvpM52woq5m5qH42p+Qa+tajHOB1yJL+J/oOgJMixznyYcZyPNKdb9kqaja0Co1D5iNJvorgCOBX5jvmm4+tWJet6If1FoZi017LcsE8XK9HngIxad6zV/LccBfyzjGkdAKHEDW4lLgEJKnABwB7EHz9WjkAoJk313ugY5CPgSsAmal6eQqqqsIsiEHUfzl4yiekYQHgNvM8U8iq2o/mijXoEl+BQrcHkgzyBHyGIFc+5B5HxcgjrIZrczbgZOAv5n2SssEUo6rgEfQDXY3cEbCvsPJNQ5YhuI3O4F+5D5ZXgZuQhZkuWhB7tu9SLk8CLw/Qb9tKIDeD9yH4iI7gZOBi5EreDvwA+B3ps8gsBYptHLRhpIXP0Hz9DpgauSYZUiGJ1CMMOo2bSSc1axm5qO5ugXdQyUt7q9BAp+OVpmZyH0rdlNnkd3KO0O2CMnlWhGDBCZ/HuNJc44lwOUpzz8beBx4DwoUtwA3AMdnNKYkpMn6dQA/Snn+VqR8V6FFbyxSMhfGHF8s61cKabN+W5G1loZ1KMA8AY19E/AVZ/8JSEHNRL/HOsKLB0ixDVLeBaQUJqEFpM1sX49KY1LTiQR2NfaNwEeL9ImrzUlCuWqOlgN3ONtN5nvfEHN8uWVKq6jGAw+jQHAaRiKXyzjS11GVoqiuAb5K8vBEXB1VKZRSR1WKoopyEfJkLGuBTzrb/cjbcZVSD7WVyBkxywgX/jWjH+2cygwnM1Yh98EyE03CGZUZzhDSKqoVyAWqpeB9WkXVi65Rdz7DyYUsFNVK4OvO9jZUNmE5Ev0ufU7bu4CPRc5zJrqX/wh8ExkhLs0oXPEwsuKWA58Y0chzxl2tTgR+ZtqmAleiuMt9FRiXZTHB6h33iV4klwLwZuC3yJLqAb6AVupduY06XwaA7wIvVXogObII+A7K2o0WJiOlc63ZHosU0gvOMfvM3xan7SSCOBtI6VxtPrOA3xNWQgUUj+5Fc+lcFGfdk4UQeVNANUH25t+OAnfTKjmoDOgmrNR+ilaS8RUc00iUbytD3bcvOf1m5jPk1Ezj8DLeVaT/BsIu3DlOv4EcxlsKWzi8jJMSnmsccAvwJqetmaHuZwvhwHkTimFNdvrsQIrecibh6vtTUHzTdR8fAeYkHGuUXeX42PRzNwrEdqFM1sslDrra6EMX4TR0gQ9VdjiATG0327EErXxrE/S1E3Kv03YtimO8F03aauApwjJ2oGD/koT9T0Y3ruWHKEP3F4oruHLyxsj2VmTN/CPleRpR1f9dKPtneQn4M8HzsqByHwjq3o42x9j5MAu5nw85fTqRC2jpB76F6h1B7uRxlD53UleZl4JVVH3A/VRfHcli9BhEMVYSmMtRTkTp23pRvNbdcxWudQPup36qqvcSlvEQuuFuRLV69cSlyIPZGGkfRIrrGKfNGhK7zfaxhK2lycAvUREvSAkOoLIhSyeKcVrOR0pyf2nD58kS+6WiAZmPS5GJ1Vj88LJjrY9inzgldQRyGZ6mtooxi/EUqldbjsx8+0DxzwlqvOqBu1H1/ERkRVyAFtNaqYxPyqmoSt6WjjSjtL21nDagkow5wKuBD6BsqFVEs4BnkKvXA/zd/O0AXonqIAvIIrU8hxJJ45ESa0LKreq5kMCnfkeFx5IlNxPIVS0ZvuFIm/XrQZmcx5GFsQj4dPbDypS0Wb9JKPa2Ha32C1HJQDUvOGmzfg3InY3GtQ4SyFlA9+ejKPZ0OVJmlvNMuxu3uxjFm22cuT3yvb3Iovoemku3EDyZkCVjgG8zNON4OO4knKX3eDyjiDHAlwnHvLqAfzE06N+NquRdjgK+j6oAihUWW96JsuudKcfZjyrYPQ4FlBU5q9ID8aRmGvDZSg+ihjgKWeFTUYinC5WARKvD+1AoaFOk/SYUE+tDlmAxZiAr+DMEimo+Cti71qOtGWs359+EyodSv13B/eItSNPegUzOemAhwY8WF+uqNer1WrlMIbhuz1DdLmG10IjimQ8SZE9XEH7w3MV11ccQrqfcTLiWy6UJPXgMqs/qNP8+23x6zcdVkDege7EFuYslsxj5x5eg54/y8GkrxRoUeKwX6vlauZyLsrqefHAVVSsqMrbcRlAqE+UMhsbdbH3Y2xmqqNpQrBVk7V023EmTPke1CZmK61GGIGoW1iqNaLV4vtIDyZB6vVZR+gi/nNGTHy8SfqvDJPRyzOF4gCAjfyWy7G19mLXCBgkymxPNuVpRZf4eFKcKkVRRNaOb+tmEx9cKHSiYOJfyvt4jT+r1WkXpQpO8LAWHo4xGwk9vHEBlPsejuq5nCUok4uhERcjuf54x3fzdiyoMlqK6sC6k1O5BdV0lv9Z7NvWZMmxHqdzVJH/vVrVTr9cqynqUyo5zQTyl0YfqtwZRjLPTtM9Bb+DYSLgI1ePxeDwej8fj8Xg8niz4Pwa8Mn0QZNPAAAAAAElFTkSuQmCC"},3191:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/image8-8551339af7f25c0f79e8dcf85a987878.png"},1151:(e,t,n)=>{n.d(t,{Z:()=>s,a:()=>r});var i=n(7294);const a={},o=i.createContext(a);function r(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);